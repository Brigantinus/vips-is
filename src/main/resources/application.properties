# Enable CORS globally
quarkus.http.cors.enabled=true
quarkus.http.cors.origins=/.*/
quarkus.http.cors.methods=GET,HEAD,OPTIONS
quarkus.http.cors.headers=Accept,Authorization,Content-Type,Link,X-Requested-With
quarkus.http.cors.exposed-headers=Link,Content-Type

quarkus.management.enabled=true

quarkus.micrometer.export.json.enabled=true
quarkus.micrometer.export.json.path=metrics/json
quarkus.micrometer.export.prometheus.path=metrics/prometheus

rest.base-url=http://localhost:8080/

storage.directory=/var/images

image-server.max-scale=2
image-server.max-area=16000000
image-server.max-width=4000
image-server.max-height=4000
image-server.tile-width=256
image-server.tile-height=256

image-server.source-formats=jpg,jpeg,jpe,jif,jfif,jfi,png,tif,tiff,gif,webp

# Image Processing Configuration
image-server.processing.jpeg-quality=90
image-server.processing.png-compression=6
image-server.processing.webp-quality=80

# Client cache-config
image-client.cache.enabled = true

# 1 Year (31536000 seconds) is the industry standard for immutable image tiles
image-client.cache.max-age = 31536000

# CDNs should cache tiles just as long as browsers
image-client.cache.shared-max-age = 31536000

# Tiles are non-sensitive; allow CDNs and proxies to store them
image-client.cache.is-public = true
image-client.cache.is-private = false

# Allow full caching without forced revalidation (better performance)
image-client.cache.no-cache = false
image-client.cache.no-store = false
image-client.cache.must-revalidate = false
image-client.cache.proxy-revalidate = false

# Prevent proxies from re-compressing/optimizing tiles
image-client.cache.no-transform = true
